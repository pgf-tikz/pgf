\documentclass{minimal}
\input{pgf-regression-test}
\RequirePackage{fp,pgf,tikz,xcolor}

\usetikzlibrary{calc,quotes}

\begin{document}

\BEGINBOXTEST{pgfmanual-en-math-parsing-1}
\muskipdef\mymuskip=0
  \pgfmathsetlength{\mymuskip}{1mu+3*4mu} \the\mymuskip
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-2}
\dimendef\mydimen=0
  \pgfmathsetlength{\mydimen}{1pt+3*4pt}  \the\mydimen
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-3}
\skipdef\myskip=0
  \pgfmathsetlength{\myskip}{1pt+3*4pt}  \the\myskip
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-4}
\skipdef\myskip=0
  \pgfmathsetlength{\myskip}{+1pt plus 1fil}  \the\myskip
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-5}
\pgfmathparse{scalar(1pt/2pt)} \pgfmathresult\
\ifpgfmathunitsdeclared with \else without \fi unit
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-6}
\pgfmathparse{1pt+scalar(1pt)} \pgfmathresult\
\ifpgfmathunitsdeclared with \else without \fi unit
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-7}
\pgfmathparse{scalar(1pt)+1pt} \pgfmathresult\
\ifpgfmathunitsdeclared with \else without \fi unit
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-8}
\tikz{
  \coordinate["$A$"]       (A) at (2,2);
  \coordinate["$B$" below] (B) at (0,0);
  \coordinate["$C$" below] (C) at (3,0);
  \draw (A) -- (B) -- (C) -- cycle;
  \path
    let \p1 =($(A)-(B)$), \p2 =($(A)-(C)$),
        \n1 = {veclen(\x1,\y1)}, \n2 = {veclen(\x2,\y2)}
    in  coordinate ["$D$" below] (D) at ($ (B)!scalar(\n1/(\n1+\n2))!(C) $);
  \draw (A) -- (D);
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-9}
\def\myarray{{1,"two",2+1,"IV","cinq","sechs",sin(\i*5)*14}}
\foreach \i in  {0,...,6}{\pgfmathparse{\myarray[\i]}\pgfmathresult, }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-10}
\def\myarray{{7,-3,4,-9,11}}
\pgfmathparse{\myarray[3]} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-11}
\def\print#1{\pgfmathparse{#1}\pgfmathresult}
\def\identitymatrix{{{1,0,0},{0,1,0},{0,0,1}}}
\tikz[x=0.5cm,y=0.5cm]\foreach \i in {0,1,2} \foreach \j in {0,1,2}
  \node at (\j,-\i) [anchor=base] {\print{\identitymatrix[\i][\j]}};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-12}
\def\x{5}
\foreach \y in {0,10}{
  \pgfmathparse{\x > \y ? "\noexpand\Large Bigger" : "\noexpand\tiny smaller"}
  \x\ is \pgfmathresult\ than \y.
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-13}
\pgfmathparse{add(75,6)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-14}
\pgfmathparse{subtract(75,6)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-15}
\pgfmathparse{neg(50)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-16}
\pgfmathparse{multiply(75,6)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-17}
\pgfmathparse{divide(75,6)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-18}
\pgfmathparse{div(75,9)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-19}
\pgfmathparse{factorial(5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-20}
\pgfmathparse{sqrt(10)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-21}
\pgfmathparse{sqrt(8765.432)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-22}
\pgfmathparse{pow(2,7)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-23}
\pgfmathparse{(e^2-e^-2)/2} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-24}
\pgfmathparse{exp(1)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-25}
\pgfmathparse{exp(2.34)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-26}
\pgfmathparse{ln(10)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-27}
\pgfmathparse{ln(exp(5))} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-28}
\pgfmathparse{log10(100)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-29}
\pgfmathparse{log2(128)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-30}
\pgfmathparse{abs(-5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-31}
\pgfmathparse{-abs(4*-3)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-32}
\pgfmathparse{mod(20,6)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-33}
\pgfmathparse{mod(-100,30)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-34}
\pgfmathparse{Mod(-100,30)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-35}
\pgfmathparse{sign(-5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-36}
\pgfmathparse{sign(0)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-37}
\pgfmathparse{sign(5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-38}
\pgfmathparse{round(32.5/17)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-39}
\pgfmathparse{round(398/12)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-40}
\pgfmathparse{floor(32.5/17)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-41}
\pgfmathparse{floor(398/12)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-42}
\pgfmathparse{floor(-398/12)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-43}
\pgfmathparse{ceil(32.5/17)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-44}
\pgfmathparse{ceil(398/12)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-45}
\pgfmathparse{ceil(-398/12)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-46}
\pgfmathparse{int(32.5/17)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-47}
\pgfmathparse{frac(32.5/17)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-48}
\pgfmathparse{real(4)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-49}
\pgfmathparse{gcd(42,56)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-50}
\pgfmathparse{isodd(2)} \pgfmathresult,
\pgfmathparse{isodd(3)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-51}
\pgfmathparse{iseven(2)} \pgfmathresult,
\pgfmathparse{iseven(3)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-52}
\pgfmathparse{isprime(1)} \pgfmathresult,
\pgfmathparse{isprime(2)} \pgfmathresult,
\pgfmathparse{isprime(31)} \pgfmathresult,
\pgfmathparse{isprime(64)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-53}
\pgfmathparse{pi} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-54}
\pgfmathparse{pi r} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-55}
\pgfmathparse{rad(90)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-56}
\pgfmathparse{deg(3*pi/2)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-57}
\pgfmathparse{sin(60)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-58}
\pgfmathparse{sin(pi/3 r)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-59}
\pgfmathparse{cos(60)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-60}
\pgfmathparse{cos(pi/3 r)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-61}
\pgfmathparse{tan(45)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-62}
\pgfmathparse{tan(2*pi/8 r)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-63}
\pgfmathparse{sec(45)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-64}
\pgfmathparse{cosec(30)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-65}
\pgfmathparse{cot(15)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-66}
\pgfmathparse{asin(0.7071)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-67}
\pgfmathparse{acos(0.5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-68}
\pgfmathparse{atan(1)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-69}
\pgfmathparse{atan2(-4,3)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-70}
\pgfmathparse{cos(45)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-71}
\pgfkeys{/pgf/trig format=rad}
\pgfmathparse{cos(pi/2)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-72}
\begin{tikzpicture}
    \draw[-stealth]
        (0:1) -- (45:1) -- (90:1) -- (135:1) -- (180:1);

    \draw[-stealth,trig format=rad,red]
        (pi:1) -- (5/4*pi:1) -- (6/4*pi:1) -- (7/4*pi:1) -- (2*pi:1);
\end{tikzpicture}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-73}
\pgfmathparse{equal(20,20)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-74}
\pgfmathparse{greater(20,25)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-75}
\pgfmathparse{less(20,25)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-76}
\pgfmathparse{notequal(20,25)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-77}
\pgfmathparse{notgreater(20,25)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-78}
\pgfmathparse{notless(20,25)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-79}
\pgfmathparse{and(5>4,6>7)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-80}
\pgfmathparse{or(5>4,6>7)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-81}
\pgfmathparse{not(true)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-82}
\pgfmathparse{ifthenelse(5==4,"yes","no")} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-83}
\pgfmathparse{true ? "yes" : "no"} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-84}
\pgfmathparse{false ? "yes" : "no"} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-85}
\pgfmathsetseed{1}
\foreach \x in {1,...,10}{\pgfmathparse{rnd}\pgfmathresult, }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-86}
\pgfmathsetseed{1}
\foreach \x in {1,...,10}{\pgfmathparse{rand}\pgfmathresult, }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-87}
\pgfmathsetseed{1}
\foreach \x in {1,...,10}{\pgfmathparse{random()}\pgfmathresult, }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-88}
\pgfmathsetseed{1}
\foreach \x in {1,...,10}{\pgfmathparse{random(100)}\pgfmathresult, }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-89}
\pgfmathsetseed{1}
\foreach \x in {1,...,10}{\pgfmathparse{random(232,762)}\pgfmathresult, }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-90}
\pgfmathparse{hex(65535)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-91}
\pgfmathparse{Hex(65535)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-92}
\pgfmathparse{oct(63)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-93}
\pgfmathparse{bin(185)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-94}
\pgfmathparse{min(3,4,-2,250,-8,100)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-95}
\pgfmathparse{max(3,4,-2,250,-8,100)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-96}
\pgfmathparse{veclen(12,5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-97}
\pgfmathparse{array({9,13,17,21},2)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-98}
\pgfmathparse{dim({1,2,3,4})} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-99}
\pgfmathparse{sinh(0.5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-100}
\pgfmathparse{cosh(0.5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-101}
\pgfmathparse{tanh(0.5)} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-102}
\pgfmathparse{width("Some Lovely Text")} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-103}
\pgfmathparse{height("Some Lovely Text")} \pgfmathresult
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-parsing-104}
\pgfmathparse{depth("Some Lovely Text")} \pgfmathresult
\ENDBOXTEST
\END
