\documentclass{minimal}
\input{pgf-regression-test}
\RequirePackage{fp,pgf,tikz,xcolor}

\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations,views}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}
\usetikzlibrary{animations}

\begin{document}

\BEGINBOXTEST{pgfmanual-en-tikz-animations-1}
\begin{tikzpicture}[
    animate/orbit/.style 2 args = {
        myself:shift = {
          along = {
            (0,0) circle [radius=#1]
          } sloped in #2s/10,
          repeats }} ]

 \node :color = {0s = "orange",
                 2s = "red",
                 4s = "orange",
                 repeats}
       {Sun};

  \begin{scope}[animate={orbit={2.5cm}{365}}]
    \node {Earth};
    \node [animate={orbit={1cm}{28}}] {Moon};
  \end{scope}

  \useasboundingbox (-3.8,-3.8) (3.8,3.8);
\end{tikzpicture}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-2}
\tikz \draw :xshift = {0s = "0cm", 30s = "-3cm", repeats} (0,0) circle (5mm);
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-3}
\tikz \node [fill, text = white, animate = {
  myself:fill = {0s = "red", 2s = "blue", begin on = click }}] {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-4}
\tikz [animate = {a node:fill = {0s = "red", 2s = "blue",
                                 begin on = click}}]
  \node (a node) [fill, text = white] {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-5}
\tikzset{
  animate/shake/.style = {myself:xshift = { begin on=click,
      0s = "0mm", 50ms = "#1", 150ms = "-#1", 250ms = "#1", 300ms = "0mm" }}}
\tikz \node [fill = blue!20, draw=blue, very thick, circle,
  animate = {shake = 1mm}] {Shake};
\tikz \node [fill = blue!20, draw=blue, very thick, circle,
  animate = {shake = 2mm}] {SHAKE};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-6}
\tikz [animate = {
  object = node, attribute = fill, time = 0s, value = red, entry,
  object = node, attribute = fill, time = 2s, value = blue, entry,
  object = node, attribute = fill, begin on = click, entry}]
  \node (node) [fill, text=white] { Click me };
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-7}
\tikz [animate = {
  object = node, attribute = fill, time = 0s, value = red, entry,
                                   time = 2s, value = blue, entry,
                                   begin on = click, entry}]
  \node (node) [fill, text=white] { Click me };
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-8}
\tikz [animate = {
  object = node,  attribute = fill, time = 0s, value = red, entry,
  object = node2, attribute = draw, entry,
  object = node,  attribute = fill, time = 2s, value = blue, entry,
  object = node2, attribute = draw, entry,
  object = node,  attribute = fill, begin on = click, entry,
  object = node2, attribute = draw, begin on = click, entry}] {
  \node (node)  [fill, text=white]            { Node 1 };
  \node (node2) [draw, ultra thick] at (0,-1) { Node 2 };
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-9}
\tikz [animate = { object = b, :fill = {0s = "red", 2s = "blue",
                                        begin on = click }}] {
  \node (a) [fill, text = white, minimum width=1.5cm] at (0,1cm) {a};
  \node (b) [fill, text = white, minimum width=1.5cm] at (0,5mm) {b};
  \node (c) [fill, text = white, minimum width=1.5cm] at (0,0mm) {c}; }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-10}
\tikz [animate = { object = b, :fill = {0s = "red", 2s = "blue",
                                        begin on = click },
                   object = c, :fill = {0s = "green", 2s = "blue",
                                        begin on = click } }] {
  \scoped [name = a, yshift=1cm] \fill (0,0) rectangle (1.5cm,2mm);
  \scoped [name = b, yshift=5mm] \fill (0,0) rectangle (1.5cm,2mm);
  \scoped [name = c, yshift=0mm] \fill (0,0) rectangle (1.5cm,2mm); }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-11}
\tikz [animate = {attribute = fill, n: = { 0s = "red", 2s = "blue",
                                           begin on = click } }]
  \node (n) [fill, text = white] {The node};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-12}
\tikz [animate = {
  id = 1, n:shift = { 0s = "{(0,0)}", 2s = "{(0,5mm)}", begin on = click },
  id = 2, n:shift = { 0s = "{(0,0)}", 2s = "{(5mm,0)}", begin on = click }
}]
  \node (n) [fill = blue!20, draw=blue, very thick] {The node};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-13}
\tikz \node :fill = { begin on = click,
    0s = "white",
    500ms later = "red",
    500ms later = "green",  % same as 1s   = "-5mm"
    500ms later = "blue"} % same as 1.5s = "-2.5mm"
  [fill=blue!20, draw=blue, very thick, circle] {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-15}
\tikz [animate/highlight/.style = {
    scope = { fork = #1,
              :fill = { 0s = "black", 0.1s = "white", 0.2s = "black"} }
  }]
  \node [animate = { myself: = {
            :fill = { 0s = "black", begin on = click },
                      highlight = 1s, highlight = 2s } },
         fill = blue, text=white, very thick, circle] { Click me };
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-20}
\tikz \node [animate = { myself: = { begin on = click,
    scope = { attribute = fill, repeats = 3, 0s = "red", 2s = "red!50" },
    scope = { attribute = draw,              0s = "red", 2s = "red!50" }
  }},
  fill=blue!20, draw=blue, very thick, circle] {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-27}
\tikz \node
  :fill opacity = { 0s="1", 2s="0", begin on=click }
  [fill = blue!20, draw = blue, ultra thick, circle] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-28}
\tikz \node
  :fill opacity = { 0s="1", 2s="0", begin on=click }
  :rotate = { 0s="0", 2s="90", begin on=click }
  [fill = blue!20, draw = blue, ultra thick, circle] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-29}
\tikz \node
  :fill opacity = { 0s="1", 2s="0", begin on=click }
  [fill = blue!20, draw = blue, ultra thick, circle]
  :rotate = { 0s="0", 2s="90", begin on=click } {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-30}
\tikz  :fill opacity = { 0s="1", 2s="0", begin on=click }
       :rotate = { 0s="0", 2s="90", begin on=click }
       [ultra thick]
  \node [fill = blue!20, draw = blue, circle] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-37}
\tikz :fill = {0s = "red", 2s = "blue", begin on = click}
      [text = white, fill = orange ] {
  \node [fill]                   at (0mm,0) {A};
  \node [fill]                   at (5mm,0) {B};
  \node [fill = green!50!black ] at (1cm,0) {C};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-38}
\tikz [my anim/.style={ animate = {
           myself:text = {0s = "red", 2s = "blue", begin on = click}}},
       text = white, fill = orange ] {
  \node [fill, my anim] at (0,0) {A};
  \node [fill, my anim] at (1,0) {B};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-39}
\tikz [animate = {myself:text = {0s = "red", 2s = "blue",
                                 begin on = click}},
       text = white, fill = orange ] {
  \node [fill] at (0,0) {A};
  \node [fill] at (1,0) {B};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-40}
\tikz \node :fill opacity = { 0s="1", 2s="0", begin on=click }
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-41}
\tikz \node :opacity = { 0s="1", 2s="0", begin on=click }
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-42}
\tikz :visible = {begin on=click, 0s="false", 2s="false"}
  \node (node) [fill = blue!20, draw = blue, very thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-43}
\tikz [animate = {example:stage = {
                   begin on = {click, of next=node},
                   0s="true", 2s="true" }}] {
  \node (node) [fill = blue!20, draw = blue, very thick, circle] {Click me!};
  \node at (2,0) (example) [fill = blue!20, circle] {Effect};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-44}
\tikz \node :line width = { 0s="1pt", 2s="5mm", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-45}
\tikz \node :dash = { 0s="on 10pt off 1pt  phase 0pt",
                      2s="on 1pt  off 10pt phase 0pt", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-46}
\tikz \node :dash = { 0s="on 1cm off 1pt phase 0pt",
                      2s="on 1cm off 1pt phase 1cm", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-47}
\tikz \node :dash phase = { 0s="0pt", 2s="1cm", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle, dashed] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-48}
\tikz \node :path = {
        0s = "{(0,-1) .. controls (0,0) and (0,0)   .. (0,1) -- (1,1)}",
        2s = "{(0,-1) .. controls (-1,0) and (-1,0) .. (-1,1) -- (.5,-1)}",
        begin on=click }
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-49}
\tikz \node :path = {
        0s = "{(0,0) circle [radius=1cm]}",
        2s = "{(0,0)
               (1,0) .. controls +(0,0) and +(0,0) .. (0,1)
                     .. controls +(0,0) and +(0,0) .. (-1,0)
                     .. controls +(0,0) and +(0,0) .. (0,-1)
                     .. controls +(0,0) and +(0,0) .. (1,0)
                     -- cycle (0,0)}",
        begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-53}
\tikz [very thick] {
  \node (node) at (-2,0)
    [fill = blue!20, draw = blue, very thick, circle] {Click me!};
  \draw :path = {
    0s = "{(0,0) to[out=90, in=180] (.5,1) to[out=0, in=90] (.5,.5)}" base,
    2s = "{(1,0) to[out=180, in=180] (.25,.5) to[out=0, in=180] (1,.5)}",
    arrows = <.<->, begin on = {click, of=node} }; }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-54}
\tikz \node :scale = { 0s="1", 2s="0.2", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-55}
\tikz \node :rotate = { 0s="45", 2s="90", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-56}
\tikz \node :xskew = { 0s="0", 2s="45", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-57}
\tikz \node :xslant = { 0s="-1", 2s="1", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-58}
\tikz \node :shift = { 0s="{(0,0)}", 2s="{(5mm,-5mm)}",
                       begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-59}
\tikz \node :xshift = { 0s="0pt", 2s="5mm", begin on=click}
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-60}
\tikz \node :shift = { 0s = "{(0,0)}", 2s = "{(5mm,-5mm)}",
                       begin on = click }
  [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-61}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,1.2);
  \draw (1,.5) circle [radius=1mm];
  \node :shift = {
            along = {(0,0) circle[radius=5mm]} upright,
            0s="0", 2s=".25", begin on=click }
    at (1,.5) [fill = blue, opacity=.5, circle] {Click};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-62}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,1.2);
  \draw (1,.5) circle [radius=1mm];
  \node :shift = {
            along = {(0,0) circle[radius=5mm]} sloped,
            0s="0", 2s=".25", begin on=click }
    at (1,.5) [fill = blue, opacity=.5, circle] {Click};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-63}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,2.2);
  \node :rotate = { 0s="0", 2s="45", begin on=click}
    at (1,1) [fill = blue!20, draw = blue, ultra thick] {Click me};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-64}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,2.2);
  \scoped :rotate = { 0s="0", 2s="45", begin on={click, of next=n} }
    \node (n) at (1,1) [fill = blue!20, draw = blue, ultra thick] {Click me};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-65}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,2.2);
  \node :rotate = { 0s="0", 2s="45", begin on=click,
                    origin = {(1,0)}}
    at (1,1) [fill = blue!20, draw = blue, ultra thick] {Click me};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-66}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,2.2);
  \node :xshift = { 0s="0cm", 2s="5mm", begin on=click,
                    transform = {rotate=-90} }
    at (1,1) [fill = blue!20, draw = blue, ultra thick] {Click me};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-67}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,2.2);
  \node :xshift = { 0s="0cm", 2s="5mm", begin on=click,
                    transform = {rotate=-45, scale=2} }
    at (1,1) [fill = blue!20, draw = blue, ultra thick] {Click me};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-69}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,1.2);
  \draw (1,.5) circle [radius=1mm] (1.5,0) circle [radius=1mm];
  \node :position = { 0s="{(1,.5)}", 2s="{(1.5,0)}", begin on=click }
    at (1,.5) [fill = blue, opacity=.5, circle] {Click};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-70}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,1.2);
  \draw (1,.5) circle [radius=1mm] (1.5,0) circle [radius=1mm];
  \node :shift = { 0s="{(1,.5)}", 2s="{(1.5,0)}", begin on=click }
    at (1,.5) [fill = blue, opacity=.5, circle] {Click};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-71}
\tikz {
  \draw [help lines] (-0.2,-0.2) grid (2.2,1.2);
  \draw (1,1) circle [radius=1mm] (1.5,0) circle [radius=1mm];
  \node :position = {
             along = {(1,1) to[bend left] (1.5,0)} sloped in 2s,
             begin on = click }
         at (1,1) [fill = blue, opacity=.5, circle] {Click};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-72}
\tikz [very thick] {
  \node (node) [fill = blue!20, draw = blue, very thick, circle] {Click me!};

  \draw [green!50!black] (1.2,-0.8) rectangle (2.7,0.8);
  \begin{scope}[view = {(0,0) (2,2) at (1.2,-0.8) (2.7,0.8)},
                animate = {myself:view = {
                    begin on = {click, of=node},
                    0s = "{(0,0) (2,2)}",
                    2s = "{(1,1) (1.5,1.5)}" }}]
    \draw [red] (10mm,10mm) rectangle (15mm,15mm);
    \node at (10mm,10mm) [circle, fill=red, text=white, font=\tiny] {red};
  \end{scope}
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-73}
\tikz \node [fill = green, text = white] :fill =
    { 1s = "red", 2s = "blue", base = "orange", begin on = click }
  {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-74}
\tikz \node [fill = green, text = white] :fill =
    { 1s = {"red" = base}, 2s = "blue", begin on = click }
  {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-75}
\tikz \node [fill = green, text = white] :fill =
    { 1s = "red" base, 2s = "blue", begin on = click }
  {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-76}
\tikz \node :fill = { 1s="red", 2s="blue", forever, begin on=click}
  [fill = green!50!black, text = white] {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-77}
\tikz \node [fill = green!50!black, text = white]
    :fill = { 1s = "red", 2s = "blue", begin on = click }
  {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-78}
\tikz \node [fill = green!50!black, text = white]
    :rotate = { 1s = "0", 5s = "90", begin = 2s, end = 4s }
  {Click me};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-79}
\tikz [very thick] {
  \node (X) at (1,1.2)  [fill = blue!20, draw = blue, circle] {1};
  \node (X) at (1,0.4)  [fill = orange!20, draw = orange, circle] {2};
  \node (node) :rotate = {0s="0", 2s="90", begin on = {click, of = X}}
               [fill = red!20, draw = red, rectangle] {Anim};
  \node (X) at (1,-0.4) [fill = blue!20, draw = blue, circle] {3};
  \node (X) at (1,-1.2) [fill = blue!20, draw = blue, circle] {4}; }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-80}
\tikz [very thick] {
  \node (X) at (1,1.2)  [fill = blue!20, draw = blue, circle] {1};
  \node (X) at (1,0.4)  [fill = blue!20, draw = blue, circle] {2};
  \node (node) :rotate = {
                 0s="0", 2s="90", begin on = {click, of next = X}}
               [fill = red!20, draw = red, rectangle] {Anim};
  \node (X) at (1,-0.4) [fill = orange!20, draw = orange, circle] {3};
  \node (X) at (1,-1.2) [fill = blue!20, draw = blue, circle] {4}; }
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-81}
\tikz \node :rotate = { 0s="0", 2s="90", begin on = {click}}
  [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-82}
\tikz \node :rotate = { 0s="0", 2s="90", begin on = {mouse down}}
  [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-83}
\tikz \node :rotate = { 0s="0", 2s="90", begin on = {mouse up} }
  [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-84}
\tikz \node :rotate = { 0s="0", 2s="90", begin on = {mouse over} }
  [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-85}
\tikz \node :rotate = { 0s="0", 2s="90", begin on = {mouse move} }
  [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-86}
\tikz \node :rotate = { 0s="0", 2s="90", begin on = {mouse out} }
  [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-87}
\tikz \node [animate = {
      myself:rotate = { 0s="0", 2s="90", begin on = {begin, of next=anim}},
      myself:xshift = { 0s="0mm", 2s="5mm", begin on = {click}, name=anim}
    },
    fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-88}
\tikz \node [animate = {
    myself:rotate = { 0s="0", 2s="90", begin on = {end, of next=anim}},
    myself:xshift = { 0s="0mm", 2s="5mm", begin on = {click}, name=anim }
  },
  fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-89}
\tikz
  \node [animate = { myself: = {
    :rotate = { 0s="0", 2s="90", begin on = {repeat = 2, of next = anim },
                begin snapshot = 2 },
    :xshift = { 0s="0mm", 2s="5mm", begin on=click, name=anim, repeats=4 }}},
    fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-90}
\tikz \node :rotate = { 0s="0", 2s="90",
                        restart = false, begin on = {click}}
    [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-91}
\tikz \node :rotate = { 0s="0", 2s="90",
                        restart = when not active, begin on = {click}}
    [fill = blue!20, draw = blue, circle, ultra thick] {Here!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-92}
\tikz \node :rotate = { 0s = "0", 2s = "90",
                        repeats, begin on = click }
    [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-93}
\tikz \node :rotate = { 0s = "0", 2s = "90",
                        repeats = 1.75, begin on = click }
    [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-94}
\tikz \node :rotate = { 0s = "0", 2s = "90",
                        repeats = for 3.5s, begin on = click }
    [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-95}
\tikz \node :rotate = { 0s = "0", 2s = "90", begin on = click,
                        repeats = accumulating }
    [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-96}
\tikz \node :rotate = { 0s = "0", 2s = "90", begin on = click,
                        repeats = for 4s accumulating }
    [fill = blue!20, draw = blue, ultra thick, circle] {Click me!};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-99}
\tikz {
  \foreach \i in {0,0.125,...,1} \draw (-0.9,.9-\i) -- ++(1.8,0);
  \node :yshift = { begin on = click,
                    0s = { exit control = {1}{0}, "0cm" },
                    1s = "-5mm",
                    2s = "-10mm" }
    [fill = blue!20, draw = blue, very thick, circle] {Click me!};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-100}
\tikz {
  \foreach \i in {0,0.125,...,1} \draw (-0.9,.9-\i) -- ++(1.8,0);
  \node :yshift = { begin on = click,
                    0s = "0cm",
                    1s = "-5mm",
                    2s = { entry control = {0}{1}, "-10mm" } }
    [fill = blue!20, draw = blue, very thick, circle] {Click me!};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-101}
\tikz {
  \foreach \i in {0,0.125,...,1} \draw (-0.9,.9-\i) -- ++(1.8,0);
  \node :yshift = { begin on = click,
                    0s = { exit control = {1}{0}, "0cm" },
                    1s = "-5mm",
                    2s = { entry control = {0}{1}, "-10mm" } }
    [fill = blue!20, draw = blue, very thick, circle] {Click me!};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-102}
\tikz {
  \foreach \i in {0,0.125,...,1} \draw (-0.9,.9-\i) -- ++(1.8,0);
  \node :yshift = { begin on = click, ease, 0s = "0cm", 2s = "-10mm" }
    [fill = blue!20, draw = blue, very thick, circle] {Click me!};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-103}
\tikz {
  \foreach \i in {0,0.125,...,1} \draw (-0.9,.9-\i) -- ++(1.8,0);
  \node :yshift = { begin on = click,
                    0s = "0cm",
                    1s = {stay, "-5mm"},
                    2s = "-10mm" }
    [fill = blue!20, draw = blue, very thick, circle] {Click me!};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-104}
\tikz {
  \foreach \i in {0,0.125,...,1} \draw (-0.9,.9-\i) -- ++(1.8,0);
  \node :yshift = { begin on = click,
                    0s = "0cm",
                    1s = {jump, "-5mm"},
                    2s = "-10mm" }
    [fill = blue!20, draw = blue, very thick, circle] {Click me!};
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-105}
\foreach \t in {0.5, 1, 1.5, 2}
  \tikz [make snapshot of = \t]
    \fill :fill = {0s="black", 2s="red"} (0,0) circle [radius = 5mm];
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-106}
\tikz [make snapshot of = 1s] {
  \fill :fill = { 0s = "black", 2s = "white" } (0,0) rectangle ++(1,1);
  \fill :fill = { 1s = "black", 3s = "white" } (2,0) rectangle ++(1,1);
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-107}
\tikz [make snapshot of = 1s] {
  \fill :fill = { 0s = "black", 2s = "white",
                  begin snapshot = 1s }        (0,0) rectangle ++(1,1);
  \fill :fill = { 1s = "black", 3s = "white" } (2,0) rectangle ++(1,1);
}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-tikz-animations-108}
\tikz [make snapshot of = 2s]
  \fill :fill = { 0s = "green", 2s = "red" } (0,0) rectangle ++(1,1);
\tikz [make snapshot after = 2s]
  \fill :fill = { 0s = "green", 2s = "red" } (0,0) rectangle ++(1,1);
\ENDBOXTEST
\END
