\documentclass{minimal}
\input{pgf-regression-test}
\RequirePackage{fp,pgf,tikz,xcolor}

\usetikzlibrary{fpu}
\usetikzlibrary{fpu}
\usetikzlibrary{fpu}
\usetikzlibrary{fpu}

\begin{document}

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-1}
\pgfkeys{/pgf/number format/.cd,fixed,precision=2}
\pgfmathprintnumber{4.568}\hspace{1em}
\pgfmathprintnumber{5e-04}\hspace{1em}
\pgfmathprintnumber{0.1}\hspace{1em}
\pgfmathprintnumber{24415.98123}\hspace{1em}
\pgfmathprintnumber{123456.12345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-2}
\pgfkeys{/pgf/number format/.cd,fixed,fixed zerofill,precision=2}
\pgfmathprintnumber{4.568}\hspace{1em}
\pgfmathprintnumber{5e-04}\hspace{1em}
\pgfmathprintnumber{0.1}\hspace{1em}
\pgfmathprintnumber{24415.98123}\hspace{1em}
\pgfmathprintnumber{123456.12345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-3}
\pgfkeys{/pgf/number format/.cd,std,fixed zerofill,precision=2}
\pgfmathprintnumber{4.568}\hspace{1em}
\pgfmathprintnumber{5e-05}\hspace{1em}
\pgfmathprintnumber{1}\hspace{1em}
\pgfmathprintnumber{123456.12345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-4}
\pgfkeys{/pgf/number format/.cd,sci,precision=2}
\pgfmathprintnumber{4.568}\hspace{1em}
\pgfmathprintnumber{5e-04}\hspace{1em}
\pgfmathprintnumber{0.1}\hspace{1em}
\pgfmathprintnumber{24415.98123}\hspace{1em}
\pgfmathprintnumber{123456.12345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-5}
\pgfkeys{/pgf/number format/.cd,sci,sci zerofill,precision=2}
\pgfmathprintnumber{4.568}\hspace{1em}
\pgfmathprintnumber{5e-04}\hspace{1em}
\pgfmathprintnumber{0.1}\hspace{1em}
\pgfmathprintnumber{24415.98123}\hspace{1em}
\pgfmathprintnumber{123456.12345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-6}
\pgfkeys{/pgf/number format/.cd,std,precision=2}
\pgfmathprintnumber{4.568}\hspace{1em}
\pgfmathprintnumber{5e-04}\hspace{1em}
\pgfmathprintnumber{0.1}\hspace{1em}
\pgfmathprintnumber{24415.98123}\hspace{1em}
\pgfmathprintnumber{123456.12345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-7}
\pgfkeys{/pgf/number format/relative*={1}}
\pgfmathprintnumber{6.42e-16}\hspace{1em}
\pgfmathprintnumber{1.2}\hspace{1em}
\pgfmathprintnumber{6}\hspace{1em}
\pgfmathprintnumber{20.6}\hspace{1em}
\pgfmathprintnumber{87}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-8}
\pgfkeys{/pgf/number format/relative*={2}}
\pgfmathprintnumber{123.345}\hspace{1em}
\pgfmathprintnumber{0.0012}\hspace{1em}
\pgfmathprintnumber{0.0014}\hspace{1em}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-9}
\pgfkeys{/pgf/number format/relative*={-3}}
\pgfmathprintnumber{123.345}\hspace{1em}
\pgfmathprintnumber{0.0012}\hspace{1em}
\pgfmathprintnumber{0.0014}\hspace{1em}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-10}
\pgfkeys{/pgf/number format/.cd,relative*={3},precision=0}
\pgfmathprintnumber{123456999}\hspace{1em}
\pgfmathprintnumber{123456999.12}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-11}
\pgfkeys{/pgf/number format/.cd,relative*={3},precision=0,relative style=fixed}
\pgfmathprintnumber{123456999}\hspace{1em}
\pgfmathprintnumber{123456999.12}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-12}
\pgfkeys{/pgf/number format/.cd,fixed relative,precision=6}
\pgfmathprintnumber{123456999}\hspace{1em}
\pgfmathprintnumber{123456999.12}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-14}
\pgfkeys{/pgf/number format/.cd,fixed relative,precision=3}
\pgfmathprintnumber{1000.0123}\hspace{1em}
\pgfmathprintnumber{100.0567}\hspace{1em}
\pgfmathprintnumber{0.000010003452}\hspace{1em}
\pgfmathprintnumber{0.010073452}\hspace{1em}
\pgfmathprintnumber{1.23567}\hspace{1em}
\pgfmathprintnumber{1003.75}\hspace{1em}
\pgfmathprintnumber{1006.75}\hspace{1em}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-15}
\pgfkeys{/pgf/number format/.cd,int detect,precision=2}
\pgfmathprintnumber{15}\hspace{1em}
\pgfmathprintnumber{20}\hspace{1em}
\pgfmathprintnumber{20.4}\hspace{1em}
\pgfmathprintnumber{0.01}\hspace{1em}
\pgfmathprintnumber{0}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-16}
15 \pgfmathifisint{15}{is an int: \pgfretval.}{is no int}\hspace{1em}
15.5 \pgfmathifisint{15.5}{is an int: \pgfretval.}{is no int}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-17}
\pgfkeys{/pgf/number format/.cd,int trunc}
\pgfmathprintnumber{4.568}\hspace{1em}
\pgfmathprintnumber{5e-04}\hspace{1em}
\pgfmathprintnumber{0.1}\hspace{1em}
\pgfmathprintnumber{24415.98123}\hspace{1em}
\pgfmathprintnumber{123456.12345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-18}
\pgfkeys{/pgf/number format/frac}
\pgfmathprintnumber{0.333333333333333}\hspace{1em}
\pgfmathprintnumber{0.5}\hspace{1em}
\pgfmathprintnumber{2.133333333333325e-01}\hspace{1em}
\pgfmathprintnumber{0.12}\hspace{1em}
\pgfmathprintnumber{2.666666666666646e-02}\hspace{1em}
\pgfmathprintnumber{-1.333333333333334e-02}\hspace{1em}
\pgfmathprintnumber{7.200000000000000e-01}\hspace{1em}
\pgfmathprintnumber{6.666666666666667e-02}\hspace{1em}
\pgfmathprintnumber{1.333333333333333e-01}\hspace{1em}
\pgfmathprintnumber{-1.333333333333333e-02}\hspace{1em}
\pgfmathprintnumber{3.3333333}\hspace{1em}
\pgfmathprintnumber{1.2345}\hspace{1em}
\pgfmathprintnumber{1}\hspace{1em}
\pgfmathprintnumber{-6}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-19}
\pgfkeys{/pgf/number format/.cd,frac, frac denom=10}
\pgfmathprintnumber{0.1}\hspace{1em}
\pgfmathprintnumber{0.5}\hspace{1em}
\pgfmathprintnumber{1.2}\hspace{1em}
\pgfmathprintnumber{-0.6}\hspace{1em}
\pgfmathprintnumber{-1.4}\hspace{1em}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-20}
\pgfkeys{/pgf/number format/.cd,frac, frac whole=false}
\pgfmathprintnumber{20.1}\hspace{1em}
\pgfmathprintnumber{5.5}\hspace{1em}
\pgfmathprintnumber{1.2}\hspace{1em}
\pgfmathprintnumber{-5.6}\hspace{1em}
\pgfmathprintnumber{-1.4}\hspace{1em}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-21}
\pgfkeys{/pgf/number format/read comma as period}
\pgfmathprintnumber{1234,56}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-22}
\pgfkeys{/pgf/number format/.cd,
    read comma as period,
    use comma}
\pgfmathprintnumber{1234,56}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-23}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    fixed zerofill,
    precision=2,
    set thousands separator={}}
\pgfmathprintnumber{1234.56}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-24}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    fixed zerofill,
    precision=2,
    set thousands separator={}}
\pgfmathprintnumber{1234567890}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-25}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    fixed zerofill,
    precision=2,
    set thousands separator={.}}
\pgfmathprintnumber{1234567890}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-26}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    fixed zerofill,
    precision=2,
    set thousands separator={,}}
\pgfmathprintnumber{1234567890}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-27}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    fixed zerofill,
    precision=2,
    set thousands separator={{{,}}}}
\pgfmathprintnumber{1234567890}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-28}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    precision=999,
    set thousands separator={\,},
    1000 sep in fractionals,
    }
\pgfmathprintnumber{1234.1234567}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-29}
\pgfkeys{/pgf/number format/.cd,
    fixed,fixed zerofill,
    precision=9,
    set thousands separator={\,},
    1000 sep in fractionals,
    }
\pgfmathprintnumber{1234.1234567}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-30}
\pgfkeys{/pgf/number format/.cd,
    int detect,
    1000 sep={\,},
    min exponent for 1000 sep=0}
\pgfmathprintnumber{5000}; \pgfmathprintnumber{1000000}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-31}
\pgfkeys{/pgf/number format/.cd,
    int detect,
    1000 sep={\,},
    min exponent for 1000 sep=4}
\pgfmathprintnumber{1000}; \pgfmathprintnumber{5000}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-32}
\pgfkeys{/pgf/number format/.cd,
    int detect,
    1000 sep={\,},
    min exponent for 1000 sep=4}
\pgfmathprintnumber{10000}; \pgfmathprintnumber{1000000}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-33}
\pgfkeys{/pgf/number format/.cd,fixed,precision=2,use period}
\pgfmathprintnumber{12.3456}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-34}
\pgfkeys{/pgf/number format/.cd,fixed,precision=2,use period}
\pgfmathprintnumber{1234.56}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-35}
\pgfkeys{/pgf/number format/.cd,fixed,precision=2,use comma}
\pgfmathprintnumber{12.3456}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-36}
\pgfkeys{/pgf/number format/.cd,fixed,precision=2,use comma}
\pgfmathprintnumber{1234.56}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-37}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    fixed zerofill,precision=2,
    skip 0.}
\pgfmathprintnumber{0.56}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-38}
\pgfkeys{/pgf/number format/.cd,
    fixed,
    fixed zerofill,precision=2,
    skip 0.=false}
\pgfmathprintnumber{0.56}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-39}
\pgfkeys{/pgf/number format/showpos}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-40}
\pgfkeys{/pgf/number format/showpos=false}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-41}
\pgfkeys{/pgf/number format/.cd,showpos,sci}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-42}
\pgfkeys{/pgf/number format/.cd,sci,sci 10e}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-43}
\pgfkeys{/pgf/number format/.cd,sci,sci e}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-44}
\pgfkeys{/pgf/number format/.cd,sci,sci E}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-45}
\pgfkeys{/pgf/number format/.cd,sci,sci subscript}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-46}
\pgfkeys{/pgf/number format/.cd,sci,sci superscript}
\pgfmathprintnumber{12.345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-47}
\pgfkeys{
    /pgf/number format/.cd,
    sci,
    sci generic={mantissa sep=\times,exponent={10^{#1}}}}
\pgfmathprintnumber{12.345};
\pgfmathprintnumber{0.00012345}
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-48}
\pgfkeys{
    /pgf/number format/.cd,
    sci, retain unit mantissa=false}
\pgfmathprintnumber{10.5};
\pgfmathprintnumber{10};
\pgfmathprintnumber{1010};
\pgfmathprintnumber[precision=1]{-1010};
\ENDBOXTEST

\BEGINBOXTEST{pgfmanual-en-math-numberprinting-49}
\pgfkeys{
    /pgf/fpu,
    /pgf/number format/.cd,
    sci,
    verbatim}
\pgfmathprintnumber{12.345};
\pgfmathprintnumber{0.00012345};
\pgfmathparse{exp(15)}
\pgfmathprintnumber{\pgfmathresult}
\ENDBOXTEST
\END
