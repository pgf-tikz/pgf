% Copyright 2011 by Jannis Pohlmann
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.

\ProvidesFileRCS[v\pgfversion] $Header$



\usepgflibrary{graphdrawing}


%
% Dispatcher for deciding on a default spring layout
% 


\pgfgddeclarecommonkeys{
  spring layout/.forward to={/graph drawing/\pgfkeysvalueof{/graph drawing/spring layout/default algorithm}}
}

\pgfkeys{/graph drawing/spring layout/default algorithm/.initial=Walshaw2000 spring electrical}




%
% Definition of spring and spring-electrical algorithms as well as
% options to configure them.
%



%
% Spring-electrical algorithm based on the paper
% 
%   "Efficient, High-Quality Force-Directed Graph Drawing"
%   Yifan Hu, 2006
%
\pgfgddeclarealgorithmkey
  {Hu2006 spring electrical}
  {spring layout}
  {
    algorithm=Hu2006 spring,
    spring layout/temperature/.graph drawing parameter initial=0.9,
    spring layout/spring constant/.graph drawing parameter initial=0.2,
  }
  {
    random seed/.graph drawing graph parameter,
    random seed/.graph drawing parameter initial=42,
    %
    natural spring dimension/.graph drawing graph parameter=evaluate math expression,
    natural spring dimension/.graph drawing parameter initial=1cm,
    %
    spring constant/.graph drawing graph parameter,
    %
    maximum iterations/.graph drawing graph parameter,
    maximum iterations/.graph drawing parameter initial=500,
    %
    coarsening/.graph drawing graph parameter,
    coarsening/.graph drawing parameter initial=true,
    coarsening/.default=true,
    %
    quadtree/.graph drawing graph parameter,
    quadtree/.graph drawing parameter initial=false,
    quadtree/.default=true,
    %
    temperature/.graph drawing graph parameter,
    %
    tolerance/.graph drawing graph parameter,
    tolerance/.graph drawing parameter initial=0.01,
    %
    initial positioning/.graph drawing graph parameter,
    initial positioning/.graph drawing parameter initial=random,
  }



%
% Spring-electrical algorithm based on the paper
%
%   "A Multilevel Algorithm for Force-Directed Graph Drawing"
%   C. Walshaw, 2000
%
\pgfgddeclarealgorithmkey
  {Walshaw2000 spring electrical}
  {spring layout}
  {
    algorithm=Walshaw2000 spring,
    spring layout/temperature/.graph drawing parameter initial=0.95,
    spring layout/spring constant/.graph drawing parameter initial=0.01,
  }
  {}
