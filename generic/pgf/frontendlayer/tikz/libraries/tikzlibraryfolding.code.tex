% Copyright 2006 by Till Tantau
% Copyright 2012 by Nico Van Cleemput
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.

\ProvidesFileRCS[v\pgfversion] $Header$


%
% Length of a standard line in a folding
% 

\tikzoption{folding line length}{\pgfmathsetlength\tikz@lib@fold@length{#1}}
\newdimen\tikz@lib@fold@length
\tikz@lib@fold@length=2cm

% Faces
% -----

\def\tikz@lib@fold@triangle#1#2#3#4{%
  \begin{scope}[xshift=.5\tikz@lib@fold@length,yshift=.28868\tikz@lib@fold@length]
    #1
  \end{scope}
  \begin{scope}[shift={(60:\tikz@lib@fold@length)},rotate=-60]
    #2
  \end{scope}
  \begin{scope}[xshift=\tikz@lib@fold@length,rotate=180]
    #3
  \end{scope}
  \begin{scope}[rotate=60]
    #4
  \end{scope}
}

\def\tikz@lib@fold@square#1#2#3#4#5{%
  \begin{scope}[xshift=.5\tikz@lib@fold@length,yshift=.5\tikz@lib@fold@length]
    #1
  \end{scope}
  \begin{scope}[yshift=\tikz@lib@fold@length]
    #2
  \end{scope}
  \begin{scope}[xshift=\tikz@lib@fold@length,yshift=\tikz@lib@fold@length,rotate=-90]
    #3
  \end{scope}
  \begin{scope}[xshift=\tikz@lib@fold@length,rotate=180]
    #4
  \end{scope}
  \begin{scope}[rotate=90]
    #5
  \end{scope}
}

\def\tikz@lib@fold@pentagon#1#2#3#4#5#6{%
  \begin{scope}[xshift=.5\tikz@lib@fold@length,yshift=0.68819\tikz@lib@fold@length]
    #1
  \end{scope}
  \begin{scope}[shift={(108:\tikz@lib@fold@length)},shift={(36:\tikz@lib@fold@length)},rotate=-36]
    #2
  \end{scope}
  \begin{scope}[xshift=\tikz@lib@fold@length,shift={(72:\tikz@lib@fold@length)},rotate=-108]
    #3
  \end{scope}
  \begin{scope}[xshift=\tikz@lib@fold@length,rotate=180]
    #4
  \end{scope}
  \begin{scope}[rotate=108]
    #5
  \end{scope}
  \begin{scope}[shift={(108:\tikz@lib@fold@length)},rotate=36]
    #6
  \end{scope}
}

\def\tikz@lib@fold@hexagon#1#2#3#4#5#6#7{%
  \begin{scope}
          [shift={(60:\tikz@lib@fold@length)}]
    #1
  \end{scope}
  \begin{scope}
          [shift={(120:\tikz@lib@fold@length)},
           shift={(60:\tikz@lib@fold@length)}]
    #2
  \end{scope}
   \begin{scope}
           [shift={(120:\tikz@lib@fold@length)},
            shift={(60:\tikz@lib@fold@length)},
            xshift=\tikz@lib@fold@length,
            rotate=-60]
    #3
  \end{scope}
  \begin{scope}
          [xshift=\tikz@lib@fold@length,
           shift={(60:\tikz@lib@fold@length)},
           rotate=-120]
    #4
  \end{scope}
  \begin{scope}
          [xshift=\tikz@lib@fold@length,
           rotate=180]
    #5
  \end{scope}
  \begin{scope}
          [rotate=120]
    #6
  \end{scope}
  \begin{scope}
          [shift={(120:\tikz@lib@fold@length)},
           rotate=60]
    #7
  \end{scope}
}


\def\tikz@lib@fold@path{\draw[every fold](0,0) -- (\tikz@lib@fold@length,0pt);}
\def\tikz@lib@fold@cut@path{\draw[every cut](0,0) -- (\tikz@lib@fold@length,0pt);}
\def\tikz@lib@fold@ear@path{
  \draw[every fold](0,0) -- (\tikz@lib@fold@length,0pt);
  \draw[every cut] (0,0) -- (.5\tikz@lib@fold@length,.2\tikz@lib@fold@length) --(\tikz@lib@fold@length,0pt);}

\tikzstyle{every cut}=[]
\tikzstyle{every fold}=[help lines]

\tikzoption{face 1}{\def\tikz@lib@fold@face@A{#1}}
\tikzoption{face 2}{\def\tikz@lib@fold@face@B{#1}}
\tikzoption{face 3}{\def\tikz@lib@fold@face@C{#1}}
\tikzoption{face 4}{\def\tikz@lib@fold@face@D{#1}}
\tikzoption{face 5}{\def\tikz@lib@fold@face@E{#1}}
\tikzoption{face 6}{\def\tikz@lib@fold@face@F{#1}}
\tikzoption{face 7}{\def\tikz@lib@fold@face@G{#1}}
\tikzoption{face 8}{\def\tikz@lib@fold@face@H{#1}}
\tikzoption{face 9}{\def\tikz@lib@fold@face@I{#1}}
\tikzoption{face 10}{\def\tikz@lib@fold@face@J{#1}}
\tikzoption{face 11}{\def\tikz@lib@fold@face@K{#1}}
\tikzoption{face 12}{\def\tikz@lib@fold@face@L{#1}}
\tikzoption{face 13}{\def\tikz@lib@fold@face@M{#1}}
\tikzoption{face 14}{\def\tikz@lib@fold@face@N{#1}}
\tikzoption{face 15}{\def\tikz@lib@fold@face@O{#1}}
\tikzoption{face 16}{\def\tikz@lib@fold@face@P{#1}}
\tikzoption{face 17}{\def\tikz@lib@fold@face@Q{#1}}
\tikzoption{face 18}{\def\tikz@lib@fold@face@R{#1}}
\tikzoption{face 19}{\def\tikz@lib@fold@face@S{#1}}
\tikzoption{face 20}{\def\tikz@lib@fold@face@T{#1}}

\let\tikz@lib@fold@face@A=\pgfutil@empty
\let\tikz@lib@fold@face@B=\pgfutil@empty
\let\tikz@lib@fold@face@C=\pgfutil@empty
\let\tikz@lib@fold@face@D=\pgfutil@empty
\let\tikz@lib@fold@face@E=\pgfutil@empty
\let\tikz@lib@fold@face@F=\pgfutil@empty
\let\tikz@lib@fold@face@G=\pgfutil@empty
\let\tikz@lib@fold@face@H=\pgfutil@empty
\let\tikz@lib@fold@face@I=\pgfutil@empty
\let\tikz@lib@fold@face@J=\pgfutil@empty
\let\tikz@lib@fold@face@K=\pgfutil@empty
\let\tikz@lib@fold@face@L=\pgfutil@empty
\let\tikz@lib@fold@face@M=\pgfutil@empty
\let\tikz@lib@fold@face@N=\pgfutil@empty
\let\tikz@lib@fold@face@O=\pgfutil@empty
\let\tikz@lib@fold@face@P=\pgfutil@empty
\let\tikz@lib@fold@face@Q=\pgfutil@empty
\let\tikz@lib@fold@face@R=\pgfutil@empty
\let\tikz@lib@fold@face@S=\pgfutil@empty
\let\tikz@lib@fold@face@T=\pgfutil@empty

% Platonic solids
% ---------------

\def\tikzfoldingdodecahedron#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@pentagon
        {\tikz@lib@fold@face@A}
        {\tikz@lib@fold@pentagon
             {\tikz@lib@fold@face@B}
             {\tikz@lib@fold@pentagon
                  {\tikz@lib@fold@face@C}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@path}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@ear@path}
             }
             {\tikz@lib@fold@ear@path}
             {\tikz@lib@fold@path}
             {\tikz@lib@fold@ear@path}
             {\tikz@lib@fold@ear@path}
        }
        {\tikz@lib@fold@pentagon
             {\tikz@lib@fold@face@D}
             {\tikz@lib@fold@pentagon
                  {\tikz@lib@fold@face@E}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@path}
                  {\tikz@lib@fold@cut@path}
                  {\tikz@lib@fold@ear@path}
             }
             {\tikz@lib@fold@ear@path}
             {\tikz@lib@fold@path}
             {\tikz@lib@fold@cut@path}
             {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@pentagon
             {\tikz@lib@fold@face@F}
             {\tikz@lib@fold@pentagon
                  {\tikz@lib@fold@face@G}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@path}
                  {\tikz@lib@fold@cut@path}
                  {\tikz@lib@fold@ear@path}
             }
             {\tikz@lib@fold@ear@path}
             {\tikz@lib@fold@path}
             {\tikz@lib@fold@cut@path}
             {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@pentagon
             {\tikz@lib@fold@face@H}
             {\tikz@lib@fold@pentagon
                  {\tikz@lib@fold@face@I}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@path}
                  {\tikz@lib@fold@cut@path}
                  {\tikz@lib@fold@ear@path}
             }
             {\tikz@lib@fold@ear@path}
             {\tikz@lib@fold@path}
             {\tikz@lib@fold@cut@path}
             {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@pentagon
             {\tikz@lib@fold@face@J}
             {\tikz@lib@fold@pentagon
                  {\tikz@lib@fold@face@K}
                  {\tikz@lib@fold@cut@path}
                  {\tikz@lib@fold@cut@path}
                  {\tikz@lib@fold@path}
                  {\tikz@lib@fold@cut@path}
                  {\tikz@lib@fold@pentagon
                       {\tikz@lib@fold@face@L}
                       {\tikz@lib@fold@cut@path}
                       {\tikz@lib@fold@cut@path}
                       {\tikz@lib@fold@path}
                       {\tikz@lib@fold@cut@path}
                       {\tikz@lib@fold@cut@path}
                  }
             }
             {\tikz@lib@fold@cut@path}
             {\tikz@lib@fold@path}
             {\tikz@lib@fold@cut@path}
             {\tikz@lib@fold@cut@path}
        }
  \endgroup
}

%alternative dodecahedron: larger format possible  

\def\tikzfoldingalternatedodecahedron#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@pentagon
        {\tikz@lib@fold@face@A}
        {\tikz@lib@fold@pentagon
             {\tikz@lib@fold@face@B}
             {\tikz@lib@fold@cut@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
	         {\tikz@lib@fold@pentagon
	              {\tikz@lib@fold@face@C}
		          {\tikz@lib@fold@pentagon
		               {\tikz@lib@fold@face@D}
			           {\tikz@lib@fold@ear@path}
			           {\tikz@lib@fold@ear@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@ear@path}
		          }
		          {\tikz@lib@fold@pentagon
		               {\tikz@lib@fold@face@E}
			           {\tikz@lib@fold@ear@path}
			           {\tikz@lib@fold@ear@path}
		               {\tikz@lib@fold@path}
                       {\tikz@lib@fold@cut@path}
                       {\tikz@lib@fold@ear@path}
		          }
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@pentagon
		               {\tikz@lib@fold@face@F}
			           {\tikz@lib@fold@ear@path}
                       {\tikz@lib@fold@ear@path}
                       {\tikz@lib@fold@path}
                       {\tikz@lib@fold@ear@path}
			           {\tikz@lib@fold@cut@path}
		          }
		          {\tikz@lib@fold@pentagon
		               {\tikz@lib@fold@face@G}
			           {\tikz@lib@fold@ear@path}
			           {\tikz@lib@fold@ear@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@ear@path}
		          }
	         }
        }
        {\tikz@lib@fold@ear@path}
        {\tikz@lib@fold@pentagon
             {\tikz@lib@fold@face@H}
	         {\tikz@lib@fold@pentagon
	              {\tikz@lib@fold@face@I}
		          {\tikz@lib@fold@cut@path}
		          {\tikz@lib@fold@ear@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@cut@path}
		          {\tikz@lib@fold@cut@path}
	         }
	         {\tikz@lib@fold@pentagon
	              {\tikz@lib@fold@face@J}
		          {\tikz@lib@fold@cut@path}
		          {\tikz@lib@fold@cut@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@cut@path}
		    {\tikz@lib@fold@cut@path}
	    }
	    {\tikz@lib@fold@path}
	    {\tikz@lib@fold@pentagon
	         {\tikz@lib@fold@face@K}
		     {\tikz@lib@fold@cut@path}
		     {\tikz@lib@fold@ear@path}
		     {\tikz@lib@fold@path}
		     {\tikz@lib@fold@cut@path}
		     {\tikz@lib@fold@cut@path}
	    }
	    {\tikz@lib@fold@pentagon
	         {\tikz@lib@fold@face@L}
		     {\tikz@lib@fold@cut@path}
		     {\tikz@lib@fold@ear@path}
		     {\tikz@lib@fold@path}
		     {\tikz@lib@fold@cut@path}
		     {\tikz@lib@fold@cut@path}
	    }
    }
    {\tikz@lib@fold@ear@path}
    {\tikz@lib@fold@ear@path}
  \endgroup
}


%tetrahedron  

\def\tikzfoldingtetrahedron#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@triangle
        {\tikz@lib@fold@face@A}
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@B}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@C}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@D}
             {\tikz@lib@fold@ear@path}
             {\tikz@lib@fold@path}
             {\tikz@lib@fold@cut@path}
    }
  \endgroup
}

%cube  

\def\tikzfoldingcube#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@square{\tikz@lib@fold@face@A}
    {
			\tikz@lib@fold@square{\tikz@lib@fold@face@B}
	    {\tikz@lib@fold@cut@path}
	    {\tikz@lib@fold@ear@path}
	    {\tikz@lib@fold@path}
	    {\tikz@lib@fold@ear@path}
    }
    {
			\tikz@lib@fold@square{\tikz@lib@fold@face@C}
	    {\tikz@lib@fold@cut@path}
	    {\tikz@lib@fold@cut@path}
	    {\tikz@lib@fold@path}
	    {\tikz@lib@fold@cut@path}
    }
    {
			\tikz@lib@fold@square{\tikz@lib@fold@face@D}
	    {
				\tikz@lib@fold@square{\tikz@lib@fold@face@E}
		    {\tikz@lib@fold@ear@path}
		    {\tikz@lib@fold@cut@path}
		    {\tikz@lib@fold@path}
		    {\tikz@lib@fold@ear@path}
	    }
	    {\tikz@lib@fold@ear@path}
	    {\tikz@lib@fold@path}
	    {\tikz@lib@fold@ear@path}
    }
    {
			\tikz@lib@fold@square{\tikz@lib@fold@face@F}
	    {\tikz@lib@fold@ear@path}
	    {\tikz@lib@fold@cut@path}
	    {\tikz@lib@fold@path}
	    {\tikz@lib@fold@cut@path}
    }
  \endgroup
}


%octahedron  

\def\tikzfoldingoctahedron#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@triangle
        {\tikz@lib@fold@face@A}
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@B}
	         {\tikz@lib@fold@triangle
	              {\tikz@lib@fold@face@C}
		          {\tikz@lib@fold@cut@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@triangle
		               {\tikz@lib@fold@face@D}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@cut@path}
		          }
	         }
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@triangle
                  {\tikz@lib@fold@face@E}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@path}
		          {\tikz@lib@fold@ear@path}
	         }
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@F}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@ear@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@G}
	         {\tikz@lib@fold@cut@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@triangle
	              {\tikz@lib@fold@face@H}
		          {\tikz@lib@fold@ear@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@cut@path}
	         }
        }
  \endgroup
}


%icosahedron  

\def\tikzfoldingicosahedron#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@triangle
        {\tikz@lib@fold@face@A}
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@B}
	         {\tikz@lib@fold@triangle
	              {\tikz@lib@fold@face@C}
		          {\tikz@lib@fold@triangle
		               {\tikz@lib@fold@face@D}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@triangle
			                {\tikz@lib@fold@face@E}
				            {\tikz@lib@fold@cut@path}
				            {\tikz@lib@fold@path}
				            {\tikz@lib@fold@triangle
				                 {\tikz@lib@fold@face@F}
		                         {\tikz@lib@fold@ear@path}
			                     {\tikz@lib@fold@path}
			                     {\tikz@lib@fold@triangle
			                          {\tikz@lib@fold@face@G}
			                          {\tikz@lib@fold@ear@path}
			                          {\tikz@lib@fold@path}
			                          {\tikz@lib@fold@cut@path}
			                     }
		                    }
			           }
		          }
                  {\tikz@lib@fold@path}
                  {\tikz@lib@fold@ear@path}
	         }
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@ear@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@H}
	         {\tikz@lib@fold@triangle
	              {\tikz@lib@fold@face@I}
		          {\tikz@lib@fold@triangle
		               {\tikz@lib@fold@face@J}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@triangle
			                {\tikz@lib@fold@face@K}
				            {\tikz@lib@fold@cut@path}
				            {\tikz@lib@fold@path}
				            {\tikz@lib@fold@triangle
				                 {\tikz@lib@fold@face@L}
					             {\tikz@lib@fold@triangle
					                  {\tikz@lib@fold@face@M}
						              {\tikz@lib@fold@cut@path}
						              {\tikz@lib@fold@path}
						              {\tikz@lib@fold@cut@path}
					             }
					             {\tikz@lib@fold@path}
					             {\tikz@lib@fold@triangle
					                  {\tikz@lib@fold@face@N}
						              {\tikz@lib@fold@ear@path}
						              {\tikz@lib@fold@path}
						              {\tikz@lib@fold@cut@path}
					             }
				            }
			           }
		          }
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@ear@path}
	         }
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@ear@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@O}
	         {\tikz@lib@fold@triangle
	              {\tikz@lib@fold@face@P}
		          {\tikz@lib@fold@triangle
		               {\tikz@lib@fold@face@Q}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@triangle
			                {\tikz@lib@fold@face@R}
				            {\tikz@lib@fold@cut@path}
				            {\tikz@lib@fold@path}
				            {\tikz@lib@fold@triangle
				                 {\tikz@lib@fold@face@S}
				                 {\tikz@lib@fold@ear@path}
					             {\tikz@lib@fold@path}
					             {\tikz@lib@fold@triangle
                                      {\tikz@lib@fold@face@T}
                                      {\tikz@lib@fold@ear@path}
						              {\tikz@lib@fold@path}
						              {\tikz@lib@fold@cut@path}
					             }
				            }
			           }
		          }
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@ear@path}
	         }
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@ear@path}
        }
  \endgroup
}

% Archimedean solids
% ------------------

%truncated tetrahedron  

\def\tikzfoldingtruncatedtetrahedron#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@hexagon
        {\tikz@lib@fold@face@A}
        {\tikz@lib@fold@hexagon
             {\tikz@lib@fold@face@B}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@C}
	         {\tikz@lib@fold@cut@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@hexagon
             {\tikz@lib@fold@face@D}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@E}
	         {\tikz@lib@fold@cut@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@hexagon
             {\tikz@lib@fold@face@F}
	         {\tikz@lib@fold@triangle
	              {\tikz@lib@fold@face@G}
		          {\tikz@lib@fold@cut@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@cut@path}
	         }
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@ear@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@H}
	         {\tikz@lib@fold@cut@path}
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
  \endgroup
}

%cuboctahedron  

\def\tikzfoldingcuboctahedron#1[#2]#3;{%
  \begingroup%
    \tikzset{#2}%
    \tikz@lib@fold@square
        {\tikz@lib@fold@face@A}
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@B}
	         {\tikz@lib@fold@square
	              {\tikz@lib@fold@face@C}
		          {\tikz@lib@fold@triangle
		               {\tikz@lib@fold@face@D}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@square
		                    {\tikz@lib@fold@face@E}
		                    {\tikz@lib@fold@ear@path}
		                    {\tikz@lib@fold@ear@path}
		                    {\tikz@lib@fold@path}
		                    {\tikz@lib@fold@ear@path}
                       }
		          }
		          {\tikz@lib@fold@ear@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@ear@path}
	         }
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@F}
	         {\tikz@lib@fold@square
	              {\tikz@lib@fold@face@G}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@ear@path}
                  {\tikz@lib@fold@path}
                  {\tikz@lib@fold@ear@path}
             }
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@H}
	         {\tikz@lib@fold@square
	              {\tikz@lib@fold@face@I}
		          {\tikz@lib@fold@ear@path}
		          {\tikz@lib@fold@ear@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@triangle
		               {\tikz@lib@fold@face@J}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@cut@path}
		          }
	         }
	         {\tikz@lib@fold@path}
	         {\tikz@lib@fold@cut@path}
        }
        {\tikz@lib@fold@triangle
             {\tikz@lib@fold@face@K}
	         {\tikz@lib@fold@square
	              {\tikz@lib@fold@face@L}
		          {\tikz@lib@fold@triangle
		               {\tikz@lib@fold@face@M}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@cut@path}
		          }
		          {\tikz@lib@fold@ear@path}
		          {\tikz@lib@fold@path}
		          {\tikz@lib@fold@triangle
                       {\tikz@lib@fold@face@N}
			           {\tikz@lib@fold@cut@path}
			           {\tikz@lib@fold@path}
			           {\tikz@lib@fold@cut@path}
		          }
	         }
	    {\tikz@lib@fold@path}
	    {\tikz@lib@fold@cut@path}
    }
  \endgroup
}
